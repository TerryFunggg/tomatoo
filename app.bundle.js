(()=>{"use strict";var n={528:(n,t,e)=>{e.d(t,{Z:()=>s});var r=e(15),o=e.n(r),i=e(645),a=e.n(i)()(o());a.push([n.id,'*{box-sizing:border-box;margin:0;padding:0;font-family:"Roboto",sans-serif}body{background-color:#db524d;color:#fff;display:grid;grid-template-rows:auto auto 10px}body a{text-decoration:none;color:#fff}body nav{margin-top:10px}body nav .nav-header{height:50px;display:flex;align-items:center;justify-content:space-around}body nav .nav-header .options{font-size:1rem}body nav .nav-header .options i{padding:5px}body nav .nav-header .options .option{padding:5px;display:inline-block}body nav .nav-header .options .option:hover{background-color:#d73d38;cursor:pointer}body nav .setting-menu{display:none;padding:20px;background-color:#fafafa;color:#757575;justify-content:center;align-items:center;font-size:1.2rem;animation:toggle-menu .1s;overflow:hidden}body nav .setting-menu .settings{display:grid;grid-template-columns:repeat(2, auto);gap:.9rem}body nav .setting-menu input[type=ranger]{width:10px}body nav .setting-menu .switch-btn{width:60px;height:30px;border-radius:18px;background-color:#db524d;display:flex;align-items:center;padding-left:5px;padding-right:5px;cursor:pointer}body nav .setting-menu .switch-btn input[type=checkbox]{display:none}body nav .setting-menu .switch-btn-circle{background-color:#fff;transform:translateX(0px);border-radius:50%;width:20px;height:20px;transition:200ms}body nav .setting-menu .switch-btn-active{transform:translateX(30px);transition:300ms}@keyframes toggle-menu{0%{height:0}100%{height:50px}}body main .tomato{display:flex;flex-direction:column;height:100vh;justify-content:center;align-items:center}body main .tomato .timer{text-align:center;font-size:5rem;font-weight:bold}body main .tomato-btn{border:none;margin-top:40px;color:#db524d;background-color:#fff;font-size:2rem;padding:10px 40px;cursor:pointer;border-radius:5px;text-transform:uppercase}body main .tomato-btn:hover{background-color:#f5f5f5}body main .tomato-btn:focus{outline:0}body main .tomato-status{padding:20px 10px;border-radius:5px;display:flex;margin-top:40px;height:20px;align-items:center;justify-content:center}body main .tomato-status img{width:50px;height:50px;padding:10px}body footer{padding:10px;background-color:#fff;color:#0f0f0f;text-align:center;font-size:.9rem}body footer a{color:#cc2f29}',"",{version:3,sources:["webpack://./src/scss/main.scss","webpack://./src/scss/_variables.scss","webpack://./src/scss/_functions.scss"],names:[],mappings:"AAGA,EACI,qBAAA,CACA,QAAA,CACA,SAAA,CACA,+BAAA,CAGJ,KACI,wBCXY,CDYZ,UCXU,CDYV,YAAA,CACA,iCAAA,CAEA,OACI,oBAAA,CACA,UCjBM,CDoBV,SACI,eAAA,CAEA,qBACI,WAAA,CACA,YAAA,CACA,kBAAA,CACA,4BAAA,CAEA,8BACI,cAAA,CAEA,gCACI,WAAA,CAGJ,sCACI,WAAA,CACA,oBAAA,CAGJ,4CErCZ,wBAAA,CFuCgB,cAAA,CAKZ,uBACI,YAAA,CACA,YAAA,CACA,wBAAA,CACA,aAAA,CACA,sBAAA,CACA,kBAAA,CACA,gBAAA,CACA,yBAAA,CACA,eAAA,CAEA,iCACI,YAAA,CACA,qCAAA,CACA,SAAA,CAGJ,0CACI,UAAA,CAGJ,mCAKI,UAAA,CACA,WAAA,CACA,kBAAA,CAEA,wBC/EA,CDgFA,YAAA,CACA,kBAAA,CACA,gBAAA,CACA,iBAAA,CACA,cAAA,CAbA,wDACI,YAAA,CAcJ,0CAEI,qBCvFN,CDwFM,yBAAA,CACA,iBAAA,CACA,UAAA,CACA,WAAA,CACA,gBAAA,CAGJ,0CACI,0BAAA,CACA,gBAAA,CAMhB,uBACI,GACI,QAAA,CAGJ,KACI,WAAA,CAAA,CAMJ,kBACI,YAAA,CACA,qBAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CAEA,yBACI,iBAAA,CACA,cAAA,CACA,gBAAA,CAGJ,sBACI,WAAA,CACA,eAAA,CACA,aCpIA,CDqIA,qBCpIF,CDqIE,cAAA,CACA,iBAAA,CACA,cAAA,CACA,iBAAA,CACA,wBAAA,CAEA,4BACI,wBAAA,CAGJ,4BACI,SAAA,CAIR,yBACI,iBAAA,CACA,iBAAA,CACA,YAAA,CACA,eAAA,CACA,WAAA,CACA,kBAAA,CACA,sBAAA,CAEA,6BACI,UAAA,CACA,WAAA,CACA,YAAA,CAMhB,YACI,YAAA,CACA,qBCxKM,CDyKN,aCxKK,CDyKL,iBAAA,CACA,eAAA,CAEA,cACI,aAAA",sourcesContent:['@import "variables";\n@import "functions";\n\n* {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    font-family: "Roboto", sans-serif;\n}\n\nbody {\n    background-color: $primary-color;\n    color: $light-color;\n    display: grid;\n    grid-template-rows: auto auto 10px;\n\n    a {\n        text-decoration: none;\n        color: $light-color;\n    }\n\n    nav {\n        margin-top: 10px;\n\n        .nav-header {\n            height: 50px;\n            display: flex;\n            align-items: center;\n            justify-content: space-around;\n\n            .options {\n                font-size: 1rem;\n\n                i {\n                    padding: 5px;\n                }\n\n                .option {\n                    padding: 5px;\n                    display: inline-block;\n                }\n\n                .option:hover {\n                    @include btn-hover;\n                    cursor: pointer;\n                }\n            }\n        }\n\n        .setting-menu {\n            display: none;\n            padding: 20px;\n            background-color: darken($light-color, 2%);\n            color: lighten($dark-color, 40%);\n            justify-content: center;\n            align-items: center;\n            font-size: 1.2rem;\n            animation: toggle-menu 0.1s;\n            overflow: hidden;\n\n            .settings {\n                display: grid;\n                grid-template-columns: repeat(2, auto);\n                gap: 0.9rem;\n            }\n\n            input[type=\'ranger\'] {\n                width: 10px;\n            }\n\n            .switch-btn {\n                input[type=\'checkbox\'] {\n                    display: none;\n                }\n\n                width: 60px;\n                height: 30px;\n                border-radius: 18px;\n                //background-color: darken($light-color, 10%);\n                background-color: $primary-color;\n                display: flex;\n                align-items: center;\n                padding-left: 5px;\n                padding-right: 5px;\n                cursor: pointer;\n\n                &-circle {\n                    //background-color: $primary-color;\n                    background-color: $light-color;\n                    transform: translateX(0px);\n                    border-radius: 50%;\n                    width: 20px;\n                    height: 20px;\n                    transition: 200ms;\n                }\n\n                &-active {\n                    transform: translateX(30px);\n                    transition: 300ms;\n                }\n            }\n        }\n    }\n\n    @keyframes toggle-menu {\n        0% {\n            height: 0;\n        }\n\n        100% {\n            height: 50px;\n        }\n    }\n\n\n    main {\n        .tomato {\n            display: flex;\n            flex-direction: column;\n            height: 100vh;\n            justify-content: center;\n            align-items: center;\n\n            .timer {\n                text-align: center;\n                font-size: 5rem;\n                font-weight: bold;\n            }\n\n            &-btn {\n                border: none;\n                margin-top: 40px;\n                color: $primary-color;\n                background-color: $light-color;\n                font-size: 2rem;\n                padding: 10px 40px;\n                cursor: pointer;\n                border-radius: 5px;\n                text-transform: uppercase;\n\n                &:hover {\n                    background-color: darken($light-color, 4%);\n                }\n\n                &:focus{\n                    outline: 0;\n                }\n            }\n\n            &-status {\n                padding: 20px 10px;\n                border-radius: 5px;\n                display: flex;\n                margin-top: 40px;\n                height: 20px;\n                align-items: center;\n                justify-content: center;\n\n                img {\n                    width: 50px;\n                    height: 50px;\n                    padding: 10px;\n                }\n            }\n        }\n    }\n\n    footer {\n        padding: 10px;\n        background-color: $light-color;\n        color: $dark-color;\n        text-align: center;\n        font-size: 0.9rem;\n\n        a {\n            color: darken($primary-color, 10%);\n        }\n    }\n}\n',"$primary-color: #db524d;\n$light-color: #fff;\n$dark-color: #0f0f0f;\n$shortbreak-color: #6d9197;\n$longbreak-color:#2a9d8f;\n","@mixin border-for-testing {\n    border: 1px solid #000;\n}\n\n@mixin btn-hover {\n    background-color: darken($primary-color, 5%);\n}\n"],sourceRoot:""}]);const s=a},645:n=>{n.exports=function(n){var t=[];return t.toString=function(){return this.map((function(t){var e=n(t);return t[2]?"@media ".concat(t[2]," {").concat(e,"}"):e})).join("")},t.i=function(n,e,r){"string"==typeof n&&(n=[[null,n,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<n.length;s++){var c=[].concat(n[s]);r&&o[c[0]]||(e&&(c[2]?c[2]="".concat(e," and ").concat(c[2]):c[2]=e),t.push(c))}},t}},15:n=>{function t(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}n.exports=function(n){var e,r,o=(r=4,function(n){if(Array.isArray(n))return n}(e=n)||function(n,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n)){var e=[],r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done)&&(e.push(a.value),!t||e.length!==t);r=!0);}catch(n){o=!0,i=n}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return e}}(e,r)||function(n,e){if(n){if("string"==typeof n)return t(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(n,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[1],a=o[3];if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),A="/*# ".concat(c," */"),l=a.sources.map((function(n){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(n," */")}));return[i].concat(l).concat([A]).join("\n")}return[i].join("\n")}},379:(n,t,e)=>{var r,o=function(){var n={};return function(t){if(void 0===n[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(n){e=null}n[t]=e}return n[t]}}(),i=[];function a(n){for(var t=-1,e=0;e<i.length;e++)if(i[e].identifier===n){t=e;break}return t}function s(n,t){for(var e={},r=[],o=0;o<n.length;o++){var s=n[o],c=t.base?s[0]+t.base:s[0],A=e[c]||0,l="".concat(c," ").concat(A);e[c]=A+1;var u=a(l),d={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(i[u].references++,i[u].updater(d)):i.push({identifier:l,updater:m(d,t),references:1}),r.push(l)}return r}function c(n){var t=document.createElement("style"),r=n.attributes||{};if(void 0===r.nonce){var i=e.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(n){t.setAttribute(n,r[n])})),"function"==typeof n.insert)n.insert(t);else{var a=o(n.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var A,l=(A=[],function(n,t){return A[n]=t,A.filter(Boolean).join("\n")});function u(n,t,e,r){var o=e?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(n.styleSheet)n.styleSheet.cssText=l(t,o);else{var i=document.createTextNode(o),a=n.childNodes;a[t]&&n.removeChild(a[t]),a.length?n.insertBefore(i,a[t]):n.appendChild(i)}}function d(n,t,e){var r=e.css,o=e.media,i=e.sourceMap;if(o?n.setAttribute("media",o):n.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleSheet)n.styleSheet.cssText=r;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(r))}}var p=null,g=0;function m(n,t){var e,r,o;if(t.singleton){var i=g++;e=p||(p=c(t)),r=u.bind(null,e,i,!1),o=u.bind(null,e,i,!0)}else e=c(t),r=d.bind(null,e,t),o=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)};return r(n),function(t){if(t){if(t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap)return;r(n=t)}else o()}}n.exports=function(n,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var e=s(n=n||[],t);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var r=0;r<e.length;r++){var o=a(e[r]);i[o].references--}for(var c=s(n,t),A=0;A<e.length;A++){var l=a(e[A]);0===i[l].references&&(i[l].updater(),i.splice(l,1))}e=c}}}},239:(n,t,e)=>{n.exports=e.p+"3a180eaed346f53a5100.svg"}},t={};function e(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return n[r](i,i.exports,e),i.exports}e.n=n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},e.d=(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),e.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t),(()=>{var n;e.g.importScripts&&(n=e.g.location+"");var t=e.g.document;if(!n&&t&&(t.currentScript&&(n=t.currentScript.src),!n)){var r=t.getElementsByTagName("script");r.length&&(n=r[r.length-1].src)}if(!n)throw new Error("Automatic publicPath is not supported in this browser");n=n.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=n})(),(()=>{var n=e(379),t=e.n(n),r=e(528);t()(r.Z,{insert:"head",singleton:!1}),r.Z.locals;const o={tomato:25,short:5,long:15,interval:4},i=e.p+"src/alert.wav";var a,s,c,A,l,u=[].indexOf;a=function(){return u.call(window,"Notification")>=0},s=function(){return"granted"!==Notification.permission&&"denied"!==Notification.permission},A=function(n){return"granted"===n},c=function(){if(a&&s)return Notification.requestPermission().then(A)},l=function(n){return new Notification(n),new Audio(i).play()};const d=class{constructor(){this.selector=this.selector(),this.color=this.color()}selector(){return{min:".timer-min",sec:".timer-sec",timer_btn:"#tomato-btn",tomato_status:".tomato-status",setting_btn:".tools-setting",switch_btn:".switch-btn",switch_active:"switch-btn-active",tomato_range:"#tomato-range",setting_menu:".setting-menu"}}color(){return{tomato:"#db524d",short:"#6d9197",long:"#2a9d8f",switch_active:"#5fae64"}}static getElement(n){return document.querySelector(n)}},p=class extends d{constructor(){super()}toggle(){var n;return"flex"===(n=d.getElement(this.selector.setting_menu).style).display?n.display="none":setTimeout((()=>n.display="flex"),150)}getRangeValue(){return d.getElement(this.selector.tomato_range).value}toggleSwitch(n){var t,e;return t=(e=d.getElement(this.selector.switch_btn)).childNodes[1],n?(e.style.backgroundColor=this.color.switch_active,t.classList.add(this.selector.switch_active)):(e.style.backgroundColor=this.color.tomato,t.classList.remove(this.selector.switch_active))}};var g=function(n,t){if(!(n instanceof t))throw new Error("Bound instance method accessed before binding")};const m=class n extends d{constructor(){super(),this.updateBtn=this.updateBtn.bind(this),this.updateBtnColor=this.updateBtnColor.bind(this)}update(n){var t,e;return t=Math.floor(n/60)+"",e=n%60+"",d.getElement(this.selector.min).innerHTML=t.padStart(2,"0"),d.getElement(this.selector.sec).innerHTML=e.padStart(2,"0")}updateBtn(t){return g(this,n),d.getElement(this.selector.timer_btn).innerHTML=t}updateBtnColor(t){return g(this,n),d.getElement(this.selector.timer_btn).style.color=this.color[t]}};var f=e(239);const h=class extends d{constructor(){super()}add(){var n,t;return t=d.getElement(this.selector.tomato_status),(n=new Image).src=f,t.appendChild(n)}empty(){return d.getElement(this.selector.tomato_status).innerHTML=""}},C=class extends d{constructor(){super()}update(n){return d.getElement("body").style.backgroundColor=this.color[n]}};var b=function(n,t){if(!(n instanceof t))throw new Error("Bound instance method accessed before binding")};const y=class n extends d{constructor(){super(),this.updateTimer=this.updateTimer.bind(this),this.toggleSettingMenu=this.toggleSettingMenu.bind(this),this.ui=null,this.timer=new m,this.statusBar=new h,this.menu=new p,this.background=new C}static instance(){return"undefined"!=typeof ui&&null!==ui?this.ui:this.ui=new n}addTomato(){return this.statusBar.add()}emptyTomatoes(){return this.statusBar.empty()}switchMode(n,t){return this.updateTimer(n),this.updateTimerBtn(t),this.timer.updateBtnColor(t),this.background.update(t)}updateTimerBtn(n){return this.timer.updateBtn(n)}updateTimer(t){return b(this,n),this.timer.update(t)}toggleSwitch(n){return this.menu.toggleSwitch(n)}getRangeValue(){return this.menu.getRangeValue()}toggleSettingMenu(){return b(this,n),this.menu.toggle()}getElement(n){return d.getElement(n)}getSelector(){return this.selector}};var v,x,w,B,k,I,E,S,T,j,M,$;E=null,M=0,j=o.interval,k="tomato",x=!1,w=function(){return clearInterval(E),E=null,M=0},B=function(){return y.instance().emptyTomatoes(),j=o.interval},v=function(){return j--,y.instance().addTomato()},$=function(n){if(k=n,y.instance().switchMode(60*o[n],n),x&&"tomato"!==n)return R(o[n])},S=function(){return $("long"),B()},I=function(){return w(),y.instance().updateTimerBtn("Start"),"tomato"===k?(l("You finish a tomato! Take a rest~"),j<=1?S():(v(),$("short"))):("short"===k&&l("now come back and keep going~"),"long"===k&&l("You just finsihed long break~ Want to come back?"),$("tomato"))},T=function(){return--M>0?y.instance().updateTimer(M):I()};var _,Y,N,R=function(n){return null===E&&0===M?(M=60*n||0,y.instance().updateTimerBtn("Stop"),E=setInterval(T,1e3)):("tomato"!==k&&I(),w(),y.instance().updateTimerBtn("Start"),y.instance().updateTimer(60*o.tomato))},J=function(){return x=!x,y.instance().toggleSwitch(x)},L=function(){var n;if(n=y.instance().getRangeValue(),o.tomato=n,null===E)return y.instance().updateTimer(60*n)};Y=function(){var n,t,e,r,o,i;for(n=function(n,t,e){return y.instance().getElement(t).addEventListener(n,e)},i=[],e=0,r=(o=_()).length;e<r;e++)t=o[e],i.push(n(...t));return i},_=function(){var n;return[["click",(n=y.instance().getSelector()).timer_btn,N],["click",n.setting_btn,y.instance().toggleSettingMenu],["click",n.switch_btn,J],["input",n.tomato_range,L]]},N=function(){var n;return n=o[k],R(n)},async function(){var n;console.log("app init..."),n=await c(),console.log(`notify permission status: ${n}`),Y()}()})()})();
//# sourceMappingURL=app.bundle.js.map